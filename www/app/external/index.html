<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
</head>


<body>
    <div id="app">
        token= {{$route.query}}
    </div>
</body>
<script>
    var serializer = function (obj) {
        var qstr = "";
        for (var key in obj) {
            if (qstr != "") {
                qstr += "&";
            }
            qstr += key + "=" + encodeURIComponent(obj[key]);
        }
        return qstr;
    }

    // 3. Create the router instance and pass the `routes` option
    // You can pass in additional options here, but let's
    // keep it simple for now.
    const router = new VueRouter()
    Vue.use(router)
    // 4. Create and mount the root instance.
    // Make sure to inject the router with the router option to make the
    // whole app router-aware.
    const app = new Vue({
        router,
        created() {
            let queryObj = this.$route.query;
            let url = queryObj.url;
            delete queryObj.url;
            let queryString = serializer(queryObj)
            console.log(this.$route)
            //            `http://msso.pelephone.co.il/mobileAppGw/public/portal/index.html#/?token=${this.$route.query.token}`;
            window.document.location = url + '?' + queryString;
        }
    }).$mount('#app')

    //  window.document.location = "http://msso.pelephone.co.il/mobileAppGw/public/portal/index.html#/"
</script>

</html>